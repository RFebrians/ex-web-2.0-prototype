{
  "version": 3,
  "sources": ["browser-route-module:/media/zegveld/9EA0FA39A0FA180B1/PROJECT FULLSTACK/remix-js/remix-crud-main/app/routes/feed/$id.tsx?browser", "../../../../app/routes/feed/$id.tsx"],
  "sourcesContent": ["export { CatchBoundary, ErrorBoundary, default, meta } from \"/media/zegveld/9EA0FA39A0FA180B1/PROJECT FULLSTACK/remix-js/remix-crud-main/app/routes/feed/$id.tsx\";", "import { useCatch, Link, json, useLoaderData, Form, redirect } from \"remix\";\nimport type { LoaderFunction, MetaFunction, ActionFunction } from \"remix\";\nimport { supabase } from \"~/db\";\n\nexport let loader: LoaderFunction = async ({ params }) => {\n  const table = supabase.from(\"feed\");\n  const { data, error } = await table.select().eq(\"id\", params.id);\n\n  if ((data && data?.length < 1) || error) {\n    throw new Response(\"Not Found\", { status: 404 });\n  }\n\n  return { param: params.id, data };\n};\n\nexport const action: ActionFunction = async ({ request, params }) => {\n  if (request.method !== \"PATCH\") return json({ status: 405 });\n  const formData = await request.formData();\n  const { data, error } = await supabase\n    .from(\"feed\")\n    .update({\n      title: formData.get(\"title\"),\n      description: formData.get(\"description\"),\n    })\n    .match({ id: params.id });\n  if (error) {\n    return json(error, { status: 400 });\n  }\n  console.log(data);\n  return redirect(`/feed/${params.id}`);\n};\n\nexport default function ParamfeedhowDemo() {\n  let data = useLoaderData();\n  const feed = data.data[0];\n  return (\n    <div>\n      <Link to=\"/feed\">back to main menu</Link>\n      <h2> Edit Section </h2>\n      <h1>{JSON.stringify(feed, null, 2)}</h1>\n      <Form method=\"patch\">\n        <input name=\"title\" defaultValue={feed.title} />\n        <br></br>\n        <textarea name=\"description\" defaultValue={feed.description} />\n        <br></br>\n        <button type=\"submit\">submit</button>\n      </Form>\n    </div>\n  );\n}\n\n// https://remix.run/api/conventions#catchboundary\n// https://remix.run/api/remix#usecatch\n// https://remix.run/api/guides/not-found\nexport function CatchBoundary() {\n  let caught = useCatch();\n\n  let message: React.ReactNode;\n  switch (caught.status) {\n    case 401:\n      message = (\n        <p>\n          Looks like you tried to visit a page that you do not have access to.\n          Maybe ask the webmaster ({caught.data.webmasterEmail}) for access.\n        </p>\n      );\n    case 404:\n      message = (\n        <p>Looks like you tried to visit a page that does not exist.</p>\n      );\n    default:\n      message = (\n        <p>\n          There was a problem with your request!\n          <br />\n          {caught.status} {caught.statusText}\n        </p>\n      );\n  }\n\n  return (\n    <>\n      <h2>Oops!</h2>\n      <p>{message}</p>\n      <p>\n        (Isn't it cool that the user gets to stay in context and try a different\n        link in the parts of the UI that didn't blow up?)\n      </p>\n    </>\n  );\n}\n\n// https://remix.run/api/conventions#errorboundary\n// https://remix.run/api/guides/not-found\nexport function ErrorBoundary({ error }: { error: Error }) {\n  console.error(error);\n  return (\n    <>\n      <h2>Error!</h2>\n      <p>{error.message}</p>\n      <p>\n        (Isn't it cool that the user gets to stay in context and try a different\n        link in the parts of the UI that didn't blow up?)\n      </p>\n    </>\n  );\n}\n\nexport let meta: MetaFunction = ({ data }) => {\n  return {\n    title: data ? `Param: ${data.param}` : \"Oops...\",\n  };\n};\n"],
  "mappings": ";;;;;;;;;;;;AAAA;;;ACAA;AAgCe,4BAA4B;AACzC,MAAI,OAAO;AACX,QAAM,OAAO,KAAK,KAAK;AACvB,SACE,oCAAC,OAAD,MACE,oCAAC,MAAD;AAAA,IAAM,IAAG;AAAA,KAAQ,sBACjB,oCAAC,MAAD,MAAI,mBACJ,oCAAC,MAAD,MAAK,KAAK,UAAU,MAAM,MAAM,KAChC,oCAAC,MAAD;AAAA,IAAM,QAAO;AAAA,KACX,oCAAC,SAAD;AAAA,IAAO,MAAK;AAAA,IAAQ,cAAc,KAAK;AAAA,MACvC,oCAAC,MAAD,OACA,oCAAC,YAAD;AAAA,IAAU,MAAK;AAAA,IAAc,cAAc,KAAK;AAAA,MAChD,oCAAC,MAAD,OACA,oCAAC,UAAD;AAAA,IAAQ,MAAK;AAAA,KAAS;AAAA;AASvB,yBAAyB;AAC9B,MAAI,SAAS;AAEb,MAAI;AACJ,UAAQ,OAAO;AAAA,SACR;AACH,gBACE,oCAAC,KAAD,MAAG,kGAEyB,OAAO,KAAK,gBAAe;AAAA,SAGtD;AACH,gBACE,oCAAC,KAAD,MAAG;AAAA;AAGL,gBACE,oCAAC,KAAD,MAAG,0CAED,oCAAC,MAAD,OACC,OAAO,QAAO,KAAE,OAAO;AAAA;AAKhC,SACE,0DACE,oCAAC,MAAD,MAAI,UACJ,oCAAC,KAAD,MAAI,UACJ,oCAAC,KAAD,MAAG;AAAA;AAUF,uBAAuB,EAAE,SAA2B;AACzD,UAAQ,MAAM;AACd,SACE,0DACE,oCAAC,MAAD,MAAI,WACJ,oCAAC,KAAD,MAAI,MAAM,UACV,oCAAC,KAAD,MAAG;AAAA;AAQF,IAAI,OAAqB,CAAC,EAAE,WAAW;AAC5C,SAAO;AAAA,IACL,OAAO,OAAO,UAAU,KAAK,UAAU;AAAA;AAAA;",
  "names": []
}
