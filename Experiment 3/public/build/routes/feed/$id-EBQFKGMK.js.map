{
  "version": 3,
  "sources": ["browser-route-module:/media/zegveld/9EA0FA39A0FA180B1/PROJECT FULLSTACK/remix-js/remix-crud-main/app/routes/feed/$id.tsx?browser", "../../../../app/routes/feed/$id.tsx"],
  "sourcesContent": ["export * from \"/media/zegveld/9EA0FA39A0FA180B1/PROJECT FULLSTACK/remix-js/remix-crud-main/app/routes/feed/$id.tsx\";", "import { useCatch, Link, json, useLoaderData, Form, redirect } from \"remix\";\nimport type { LoaderFunction, MetaFunction, ActionFunction } from \"remix\";\nimport { supabase } from \"~/db\";\n\nexport let loader: LoaderFunction = async ({ params }) => {\n  const table = supabase.from(\"feed\");\n  const { data, error } = await table.select().eq(\"id\", params.id);\n\n  if ((data && data?.length < 1) || error) {\n    throw new Response(\"Not Found\", { status: 404 });\n  }\n\n  return { param: params.id, data };\n};\n\nexport const action: ActionFunction = async ({ request, params }) => {\n  if (request.method !== \"PATCH\") return json({ status: 405 });\n  const formData = await request.formData();\n  const { data, error } = await supabase\n    .from(\"feed\")\n    .update({\n      title: formData.get(\"title\"),\n      description: formData.get(\"description\"),\n    })\n    .match({ id: params.id });\n  if (error) {\n    return json(error, { status: 400 });\n  }\n  console.log(data);\n  return redirect(`/feed/${params.id}`);\n};\n\nexport default function ParamfeedhowDemo() {\n  let data = useLoaderData();\n  const feed = data.data[0];\n  return (\n    <div>\n      <Link to=\"/feed\">feed</Link>\n      <h1>{JSON.stringify(feed, null, 2)}</h1>\n      <Form method=\"patch\">\n        <input name=\"title\" defaultValue={feed.title} />\n        <textarea name=\"description\" defaultValue={feed.description} />\n        <button type=\"submit\">submit</button>\n      </Form>\n    </div>\n  );\n}\n\n// https://remix.run/api/conventions#catchboundary\n// https://remix.run/api/remix#usecatch\n// https://remix.run/api/guides/not-found\nexport function CatchBoundary() {\n  let caught = useCatch();\n\n  let message: React.ReactNode;\n  switch (caught.status) {\n    case 401:\n      message = (\n        <p>\n          Looks like you tried to visit a page that you do not have access to.\n          Maybe ask the webmaster ({caught.data.webmasterEmail}) for access.\n        </p>\n      );\n    case 404:\n      message = (\n        <p>Looks like you tried to visit a page that does not exist.</p>\n      );\n    default:\n      message = (\n        <p>\n          There was a problem with your request!\n          <br />\n          {caught.status} {caught.statusText}\n        </p>\n      );\n  }\n\n  return (\n    <>\n      <h2>Oops!</h2>\n      <p>{message}</p>\n      <p>\n        (Isn't it cool that the user gets to stay in context and try a different\n        link in the parts of the UI that didn't blow up?)\n      </p>\n    </>\n  );\n}\n\n// https://remix.run/api/conventions#errorboundary\n// https://remix.run/api/guides/not-found\nexport function ErrorBoundary({ error }: { error: Error }) {\n  console.error(error);\n  return (\n    <>\n      <h2>Error!</h2>\n      <p>{error.message}</p>\n      <p>\n        (Isn't it cool that the user gets to stay in context and try a different\n        link in the parts of the UI that didn't blow up?)\n      </p>\n    </>\n  );\n}\n\nexport let meta: MetaFunction = ({ data }) => {\n  return {\n    title: data ? `Param: ${data.param}` : \"Oops...\",\n  };\n};\n"],
  "mappings": ";;;;;;;;;;;;;;;AAAA;;;ACAA;AAIO,IAAI,SAAyB,OAAO,EAAE,aAAa;AACxD,QAAM,QAAQ,SAAS,KAAK;AAC5B,QAAM,EAAE,MAAM,UAAU,MAAM,MAAM,SAAS,GAAG,MAAM,OAAO;AAE7D,MAAK,QAAQ,8BAAM,UAAS,KAAM,OAAO;AACvC,UAAM,IAAI,SAAS,aAAa,EAAE,QAAQ;AAAA;AAG5C,SAAO,EAAE,OAAO,OAAO,IAAI;AAAA;AAGtB,IAAM,SAAyB,OAAO,EAAE,SAAS,aAAa;AACnE,MAAI,QAAQ,WAAW;AAAS,WAAO,gCAAK,EAAE,QAAQ;AACtD,QAAM,WAAW,MAAM,QAAQ;AAC/B,QAAM,EAAE,MAAM,UAAU,MAAM,SAC3B,KAAK,QACL,OAAO;AAAA,IACN,OAAO,SAAS,IAAI;AAAA,IACpB,aAAa,SAAS,IAAI;AAAA,KAE3B,MAAM,EAAE,IAAI,OAAO;AACtB,MAAI,OAAO;AACT,WAAO,gCAAK,OAAO,EAAE,QAAQ;AAAA;AAE/B,UAAQ,IAAI;AACZ,SAAO,oCAAS,SAAS,OAAO;AAAA;AAsB3B,yBAAyB;AAC9B,MAAI,SAAS;AAEb,MAAI;AACJ,UAAQ,OAAO;AAAA,SACR;AACH,gBACE,oCAAC,KAAD,MAAG,kGAEyB,OAAO,KAAK,gBAAe;AAAA,SAGtD;AACH,gBACE,oCAAC,KAAD,MAAG;AAAA;AAGL,gBACE,oCAAC,KAAD,MAAG,0CAED,oCAAC,MAAD,OACC,OAAO,QAAO,KAAE,OAAO;AAAA;AAKhC,SACE,0DACE,oCAAC,MAAD,MAAI,UACJ,oCAAC,KAAD,MAAI,UACJ,oCAAC,KAAD,MAAG;AAAA;AAUF,uBAAuB,EAAE,SAA2B;AACzD,UAAQ,MAAM;AACd,SACE,0DACE,oCAAC,MAAD,MAAI,WACJ,oCAAC,KAAD,MAAI,MAAM,UACV,oCAAC,KAAD,MAAG;AAAA;AAQF,IAAI,OAAqB,CAAC,EAAE,WAAW;AAC5C,SAAO;AAAA,IACL,OAAO,OAAO,UAAU,KAAK,UAAU;AAAA;AAAA;",
  "names": []
}
