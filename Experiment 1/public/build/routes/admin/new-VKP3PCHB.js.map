{
  "version": 3,
  "sources": ["browser-route-module:/media/zegveld/9EA0FA39A0FA180B1/PROJECT FULLSTACK/remix-js/blog-tutorial/app/routes/admin/new.tsx?browser", "../../../../app/routes/admin/new.tsx"],
  "sourcesContent": ["export { default } from \"/media/zegveld/9EA0FA39A0FA180B1/PROJECT FULLSTACK/remix-js/blog-tutorial/app/routes/admin/new.tsx\";", "import { useTransition, useActionData, Form, redirect } from \"remix\";\nimport type { ActionFunction } from \"remix\";\nimport { createPost } from \"~/post\";\nimport invariant from \"tiny-invariant\";\n\nexport let action: ActionFunction = async ({ request }) => {\n  await new Promise((res) => setTimeout(res, 1000));\n  let formData = await request.formData();\n  let title = formData.get(\"title\");\n  let slug = formData.get(\"slug\");\n  let markdown = formData.get(\"markdown\");\n\n  let errors: Record<string, boolean> = {};\n  if (!title) errors.title = true;\n  if (!slug) errors.slug = true;\n  if (!markdown) errors.markdown = true;\n\n  if (Object.keys(errors).length) {\n    return errors;\n  }\n\n  invariant(typeof title === \"string\");\n  invariant(typeof slug === \"string\");\n  invariant(typeof markdown === \"string\");\n  await createPost({ title, slug, markdown });\n\n  return redirect(\"/admin\");\n};\n\nexport default function NewPost() {\n  let errors = useActionData();\n  let transition = useTransition();\n\n  return (\n    <Form method=\"post\">\n      <p>\n        <label>\n          Post Title: {errors?.title && <em>Title is required</em>}\n          <input type=\"text\" name=\"title\" />\n        </label>\n      </p>\n      <p>\n        <label>\n          Post Slug: {errors?.slug && <em>Slug is required</em>}\n          <input type=\"text\" name=\"slug\" />\n        </label>\n      </p>\n      <p>\n        <label htmlFor=\"markdown\">Markdown:</label>{\" \"}\n        {errors?.markdown && <em>Markdown is required</em>}\n        <br />\n        <textarea rows={20} name=\"markdown\" />\n      </p>\n      <p>\n        <button type=\"submit\">\n          {transition.submission ? \"Creating...\" : \"Create Post\"}\n        </button>\n      </p>\n    </Form>\n  );\n}\n"],
  "mappings": ";;;;;;;;;;;AAAA;;;ACAA;AA6Be,mBAAmB;AAChC,MAAI,SAAS;AACb,MAAI,aAAa;AAEjB,SACE,oCAAC,MAAD;AAAA,IAAM,QAAO;AAAA,KACX,oCAAC,KAAD,MACE,oCAAC,SAAD,MAAO,gBACQ,kCAAQ,UAAS,oCAAC,MAAD,MAAI,sBAClC,oCAAC,SAAD;AAAA,IAAO,MAAK;AAAA,IAAO,MAAK;AAAA,QAG5B,oCAAC,KAAD,MACE,oCAAC,SAAD,MAAO,eACO,kCAAQ,SAAQ,oCAAC,MAAD,MAAI,qBAChC,oCAAC,SAAD;AAAA,IAAO,MAAK;AAAA,IAAO,MAAK;AAAA,QAG5B,oCAAC,KAAD,MACE,oCAAC,SAAD;AAAA,IAAO,SAAQ;AAAA,KAAW,cAAkB,KAC3C,kCAAQ,aAAY,oCAAC,MAAD,MAAI,yBACzB,oCAAC,MAAD,OACA,oCAAC,YAAD;AAAA,IAAU,MAAM;AAAA,IAAI,MAAK;AAAA,OAE3B,oCAAC,KAAD,MACE,oCAAC,UAAD;AAAA,IAAQ,MAAK;AAAA,KACV,WAAW,aAAa,gBAAgB;AAAA;",
  "names": []
}
